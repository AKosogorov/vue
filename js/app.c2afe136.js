(function(t){function e(e){for(var a,i,d=e[0],c=e[1],s=e[2],u=0,p=[];u<d.length;u++)i=d[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],a=!0,d=1;d<r.length;d++){var c=r[d];0!==n[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},n={app:0},o=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/vue/";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],c=d.push.bind(d);d.push=e,d=d.slice();for(var s=0;s<d.length;s++)e(d[s]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"390d":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("Navbar"),r("router-view")],1)},o=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-app-bar",{attrs:{color:"deep-purple"}},[r("router-link",{staticClass:"mr-4 white--text",attrs:{to:"/"}},[t._v(" На главную ")]),r("router-link",{staticClass:"white--text",attrs:{to:"/add"}},[t._v(" Добавить карточки ")])],1)],1)},d=[],c={},s=c,l=r("2877"),u=r("6544"),p=r.n(u),f=r("40dc"),b=r("a523"),g=Object(l["a"])(s,i,d,!1,null,null,null),C=g.exports;p()(g,{VAppBar:f["a"],VContainer:b["a"]});var h={name:"App",components:{Navbar:C},data:function(){return{}}},v=h,m=(r("034f"),r("7496")),O=Object(l["a"])(v,n,o,!1,null,null,null),j=O.exports;p()(O,{VApp:m["a"]});var x=r("f309");a["a"].use(x["a"]);var D=new x["a"]({}),_=r("8c4f"),V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-checkbox",{attrs:{label:"Drag'N'Drop"},on:{change:t.isCardDraggable},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}}),r("ul",{staticClass:"grid"},t._l(t.getCards().length,(function(e){return r("li",{key:e,staticClass:"drop-zone",on:{drop:function(r){return t.onDrop(r,e)},dragover:function(t){t.preventDefault()},dragenter:function(t){t.preventDefault()}}},[r("Card",{attrs:{card:t.getCardZone(e)}})],1)})),0),r("ModalCard")],1)},k=[],w=r("5530"),y=(r("d81d"),r("4de4"),r("d3b7"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{draggable:this.getCardDraggable()},on:{click:t.openCard,dragstart:function(e){return t.onDrag(e,t.card)}}},[r("v-card-title",[t._v(" "+t._s(t.card.title)+" ")]),r("v-card-text",[t._v(" "+t._s(t.card.descr)+" ")])],1)}),I=[],M=(r("25f0"),r("2f62")),T={props:{card:{type:Object,required:!0}},methods:Object(w["a"])(Object(w["a"])(Object(w["a"])({},Object(M["c"])(["setCurrentCard","showModal"])),Object(M["b"])(["getCardDraggable"])),{},{openCard:function(){this.setCurrentCard(this.card),this.showModal()},onDrag:function(t,e){t.dataTransfer.dropEffect="move",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("dropCardId",e.id.toString()),t.dataTransfer.setData("dropCardDropZoneId",e.dropZoneId.toString())}})},Z=T,S=r("b0af"),$=r("99d9"),q=Object(l["a"])(Z,y,I,!1,null,null,null),E=q.exports;p()(q,{VCard:S["a"],VCardText:$["b"],VCardTitle:$["c"]});var P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"600px"},on:{"click:outside":t.hideModal},model:{value:t.$store.getters.getModalVisible,callback:function(e){t.$set(t.$store.getters,"getModalVisible",e)},expression:"$store.getters.getModalVisible"}},[r("v-card",[r("v-card-title",[t._v(" "+t._s(t.getCurrentCard().title)+" ")]),r("v-card-text",[t._v(" "+t._s(t.getCurrentCard().descr)+" ")]),r("v-card-actions",[r("v-btn",{staticClass:"white--text",attrs:{color:"red darken-1"},on:{click:t.onDelete}},[t._v(" Удалить ")])],1)],1)],1)},A=[],N={methods:Object(w["a"])(Object(w["a"])(Object(w["a"])({},Object(M["c"])(["setCards","updateCards","hideModal"])),Object(M["b"])(["getCards","getCurrentCard"])),{},{onDelete:function(){var t=this.getCards(),e=this.getCurrentCard().id,r=this.getCurrentCard().dropZoneId;t=t.filter((function(t){return t.id!==e})).map((function(t){return t.dropZoneId>r&&(t.dropZoneId=t.dropZoneId-1),t})),this.setCards(t),this.updateCards(),this.hideModal()}})},J=N,B=r("8336"),F=r("169a"),L=Object(l["a"])(J,P,A,!1,null,null,null),z=L.exports;p()(L,{VBtn:B["a"],VCard:S["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VDialog:F["a"]});var G={components:{Card:E,ModalCard:z},data:function(){return{checked:!0}},methods:Object(w["a"])(Object(w["a"])(Object(w["a"])({},Object(M["c"])(["setCards","updateCards","loadCards","isCardDraggable"])),Object(M["b"])(["getCards","getCardDraggable"])),{},{onDrop:function(t,e){var r=parseInt(t.dataTransfer.getData("dropCardId")),a=parseInt(t.dataTransfer.getData("dropCardDropZoneId")),n=this.getCards();n=n.map((function(t){return t.id===r&&(t.dropZoneId=e),t.dropZoneId===e&&t.id!==r&&(t.dropZoneId=a),t})),this.setCards(n),this.updateCards()},getCardZone:function(t){return this.getCards().filter((function(e){return e.dropZoneId===t}))[0]}}),mounted:function(){this.checked=this.getCardDraggable(),this.loadCards()}},H=G,K=(r("d397"),r("ac7c")),Q=Object(l["a"])(H,V,k,!1,null,null,null),R=Q.exports;p()(Q,{VCheckbox:K["a"],VContainer:b["a"]});var U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-form",[r("v-card-title",[t._v(" Добавьте новую карточку ")]),r("v-text-field",{attrs:{label:t.labelTitle,outlined:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),r("v-textarea",{attrs:{label:t.labelDescr,outlined:""},model:{value:t.descr,callback:function(e){t.descr=e},expression:"descr"}}),r("v-btn",{staticClass:"mr-4 white--text",attrs:{color:"green darken-1"},on:{click:t.addCard}},[t._v(" Добавить ")]),r("v-btn",{staticClass:"white--text",attrs:{color:"red darken-1"},on:{click:t.toMain}},[t._v(" Отмена ")])],1)],1)},W=[],X=(r("498a"),{data:function(){return{labelTitle:"Название",labelDescr:"Описание",title:"",descr:""}},methods:Object(w["a"])(Object(w["a"])(Object(w["a"])({},Object(M["c"])(["setCards","updateCards"])),Object(M["b"])(["getCards"])),{},{addCard:function(){var t=this;this.labelTitle="Название",this.labelDescr="Описание";var e=this.title.trim(),r=this.descr.trim(),a=function(){var a=!0;return 0===e.length&&(t.labelTitle="Название не может быть пустым",a=!1),r.length<10&&(t.labelDescr="Описание должно быть длиннее 10 символов",a=!1),a};if(a()){var n={id:Date.now(),title:e,descr:r,dropZoneId:this.getCards().length+1},o=this.$store.getters.getCards;o.push(n),this.setCards(o),this.updateCards(),this.title="",this.descr="",this.toMain()}},toMain:function(){this.$router.push("/")}})}),Y=X,tt=r("4bd4"),et=r("8654"),rt=r("a844"),at=Object(l["a"])(Y,U,W,!1,null,null,null),nt=at.exports;p()(at,{VBtn:B["a"],VCardTitle:$["c"],VContainer:b["a"],VForm:tt["a"],VTextField:et["a"],VTextarea:rt["a"]}),a["a"].use(_["a"]);var ot=[{path:"/",component:R},{path:"/add",component:nt}],it=new _["a"]({mode:"hash",routes:ot}),dt=(r("e9c4"),{state:{cards:[],modalVisible:!1,cardDraggable:!0,currentCard:{}},mutations:{setCards:function(t,e){t.cards=e},updateCards:function(t){localStorage.setItem("cards",JSON.stringify(t.cards))},loadCards:function(t){var e=[{id:1,dropZoneId:1,title:"title 1",descr:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Distinctio maxime aliquam doloremque impedit explicabo ad ut necessitatibus facere aut nisi tempore nesciunt cupiditate accusantium magnam pariatur corrupti, aliquid voluptate consequatur."},{id:2,dropZoneId:2,title:"title 2",descr:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Distinctio maxime aliquam doloremque impedit explicabo ad ut necessitatibus facere aut nisi tempore nesciunt cupiditate accusantium magnam pariatur corrupti, aliquid voluptate consequatur."}];localStorage.getItem("cards")?t.cards=JSON.parse(localStorage.getItem("cards")):t.cards=e},showModal:function(t){t.modalVisible=!0},hideModal:function(t){t.modalVisible=!1},isCardDraggable:function(t){console.log("ckeck"),t.cardDraggable=!t.cardDraggable},setCurrentCard:function(t,e){t.currentCard=e}},getters:{getCards:function(t){return t.cards},getModalVisible:function(t){return t.modalVisible},getCardDraggable:function(t){return t.cardDraggable},getCurrentCard:function(t){return t.currentCard}},actions:{}});a["a"].use(M["a"]);var ct=new M["a"].Store({modules:{cardsModule:dt}});a["a"].config.productionTip=!1,new a["a"]({vuetify:D,router:it,store:ct,render:function(t){return t(j)}}).$mount("#app")},"85ec":function(t,e,r){},d397:function(t,e,r){"use strict";r("390d")}});
//# sourceMappingURL=app.c2afe136.js.map